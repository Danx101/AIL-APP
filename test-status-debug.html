<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Status Badge Debug Test</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <h1>Status Badge Color Test</h1>
        <div class="row">
            <div class="col-12">
                <h3>Bootstrap Standard Colors</h3>
                <span class="badge bg-success me-2">bg-success (should be green)</span>
                <span class="badge bg-secondary me-2">bg-secondary (should be grey)</span>
                <span class="badge bg-warning me-2">bg-warning (should be yellow)</span>
                <span class="badge bg-danger me-2">bg-danger (should be red)</span>
                <span class="badge bg-info me-2">bg-info (should be cyan)</span>
            </div>
        </div>
        
        <div class="row mt-4">
            <div class="col-12">
                <h3>Status Mapping Test</h3>
                <div id="statusTest"></div>
                <button class="btn btn-primary mt-2" onclick="testStatusMapping()">Test Status Mapping</button>
            </div>
        </div>
    </div>

    <script>
        function getStatusBadgeClass(status) {
            console.log('🎨 Testing getStatusBadgeClass with status:', status, 'type:', typeof status);
            const classes = {
                // English terms
                'pending': 'bg-warning',
                'confirmed': 'bg-success',
                'cancelled': 'bg-danger',
                'completed': 'bg-info',
                'no_show': 'bg-secondary',
                // German terms
                'bestätigt': 'bg-success',
                'abgesagt': 'bg-danger',
                'abgeschlossen': 'bg-info',
                'nicht erschienen': 'bg-secondary'
            };
            const result = classes[status] || 'bg-secondary';
            console.log('🎨 Status badge class for', status, '→', result);
            if (status === 'bestätigt') {
                console.log('🟢 BESTÄTIGT status detected! Should return bg-success (GREEN)');
            }
            return result;
        }

        function testStatusMapping() {
            const testStatuses = ['bestätigt', 'confirmed', 'pending', 'abgeschlossen', 'abgesagt'];
            const container = document.getElementById('statusTest');
            container.innerHTML = '';
            
            testStatuses.forEach(status => {
                const badgeClass = getStatusBadgeClass(status);
                const badgeHtml = `<span class="badge ${badgeClass} me-2 mb-2">${status} → ${badgeClass}</span>`;
                container.innerHTML += badgeHtml;
            });
            
            // Special test for bestätigt
            console.log('🔍 Direct test of bestätigt:');
            console.log('Result:', getStatusBadgeClass('bestätigt'));
        }

        // Auto-run test on page load
        window.addEventListener('load', () => {
            testStatusMapping();
        });
    </script>
</body>
</html>